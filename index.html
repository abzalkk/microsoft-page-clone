<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Microsoft</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Local Fonts -->
    <link rel="stylesheet" href="./assets/styles/style.css" />
  </head>

  <body>
    <div class="main-section">
      <div class="overlay"></div>
      <!-- login modal -->
      <div class="login-section" id="modal-1">
        <div class="card">
          <img
            src="./assets/images/bannerlogo.png"
            style="width: 142px; height: auto"
            alt=""
          />
          <h1 class="title">Sign in</h1>
          <div class="error-message" id="errorMessage" style="display: none">
            We couldn't find an account with that username.
          </div>

          <div class="input pb-2">
            <input
              type="email"
              name="loginfmt"
              id="emailInput"
              maxlength="113"
              class="form-control ltr_override input ext-input text-box"
              placeholder="Sign-in with your NetID@usf.edu (not U#)"
            />
          </div>
          <a
            href="https://support.microsoft.com/en-us/account-billing/i-can-t-sign-in-to-my-microsoft-account-475c9b5c-8c25-49f1-9c2d-c64b7072e735"
            class="link py-2"
            >Can’t access your account?</a
          >
          <div class="d-flex gap-2 justify-content-end pt-3" style="gap: 10px">
            <input
              type="button"
              id="idBtn_Back"
              class="win-button button-secondary button ext-button secondary ext-secondary"
              value="Back"
            />
            <input
              type="submit"
              id="idSIButton9"
              class="win-button button_primary button ext-button primary ext-primary"
              data-report-event="Signin_Submit"
              data-report-trigger="click"
              data-report-value="Submit"
              value="Next"
            />
          </div>
        </div>
        <div class="boilerplate-text">
          <p>
            By logging in you agree to follow the USF’s
            <a
              href="https://www.usf.edu/it/data-security/acceptable-use"
              rel="noopener noreferrer"
              target="_blank"
              >Acceptable Use Policy</a
            >
          </p>
        </div>
        <div class=" ">
          <div class="options">
            <a
              href="https://support.microsoft.com/en-us/windows/windows-sign-in-options-and-account-protection-7b34d4cf-794f-f6bd-ddcc-e73cdf1a6fbf"
              style="text-decoration: none; color: #1b1b1b"
            >
              <div class="table-row d-flex align-items-center">
                <div class="table-cell tile-img medium">
                  <img
                    class="tile-img medium"
                    src="https://aadcdn.msauth.net/shared/1.0/content/images/signin-options_3e3f6b73c3f310c31d2c4d131a8ab8c6.svg"
                  /><!-- /ko -->
                </div>
                <div
                  class="table-cell text-left content"
                  data-bind="css: { 'content': !svr.fSupportWindowsStyles }"
                >
                  <div data-test-id="signinOptions">Sign-in options</div>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>

      <!-- loading modal  -->
      <div class="login-section" id="modal-2" style="display: none">
        <div class="card">
          <img
            src="./assets/images/bannerlogo.png"
            style="width: 142px; height: auto"
            alt=""
          />
          <h1 class="title">Trying to sign you in</h1>
          <div class="col-12 my-3">
            <img
              src="./assets/images/marching_ants_986f40b5a9dc7d39ef8396797f61b323.gif"
              width="100%"
              height="auto"
              alt=""
            />
          </div>
          <a href="#" class="link py-2" style="font-size: 20px">Cancel</a>
        </div>
      </div>
      <!-- password modal  -->
      <div class="login-section" id="modal-3" style="display: none">
        <div class="card">
          <img
            src="./assets/images/bannerlogo.png"
            style="width: 142px; height: auto"
            alt=""
          />
          <div class="py-3 d-flex align-items-center">
            <img
              class="arrow-back"
              id="arrowBackIcon"
              style="cursor: pointer"
              src="https://aadcdn.msauth.net/shared/1.0/content/images/arrow_left_43280e0ba671a1d8b5e34f1931c4fe4b.svg"
            />
            <p class="my-0 ml-3">abzalk@usf.edu</p>
          </div>

          <h1 class="title">Enter password</h1>

          <!-- Error message for incorrect password -->
          <div
            class="error-message"
            id="passwordErrorMessage"
            style="display: none"
          >
            Your account or password is incorrect.
          </div>
          <div class="input pb-2">
            <input
              type="password"
              name="loginfmt"
              id="password"
              maxlength="113"
              class="form-control ltr_override input ext-input text-box"
              placeholder="Password"
            />
          </div>
          <a
            href="https://support.microsoft.com/en-us/account-billing/reset-a-forgotten-microsoft-account-password-eff4f067-5042-c1a3-fe72-b04d60556c37"
            class="link py-2"
            >Forgot my password</a
          >
          <div class="d-flex gap-2 justify-content-end pt-3" style="gap: 10px">
            <input
              type="submit"
              id="idSignInButton"
              class="win-button button_primary button ext-button primary ext-primary"
              data-report-event="Signin_Submit"
              data-report-trigger="click"
              data-report-value="Submit"
              value="Sign in"
            />
          </div>
        </div>
        <div class="boilerplate-text">
          <p>
            By logging in you agree to follow the USF’s
            <a
              href="https://www.usf.edu/it/data-security/acceptable-use"
              rel="noopener noreferrer"
              target="_blank"
              >Acceptable Use Policy</a
            >
          </p>
        </div>
      </div>

      <!-- success modal  -->
      <div class="login-section" id="modal-4" style="display: none">
        <div class="card">
          <img
            src="./assets/images/bannerlogo.png"
            style="width: 142px; height: auto"
            alt=""
          />

          <p>abzalk@usf.edu</p>
          <h1 class="title-approve">Approve sign in reques</h1>
          <div class="">
            <div class="d-flex text-body">
              <div>
                <img
                  class="tile-img small animate-pulse pr-3"
                  role="presentation"
                  width="50px"
                  height="50px"
                  src="https://aadcdn.msauth.net/shared/1.0/content/images/picker_verify_fluent_authenticator_59892f1e05e3adf9fd2f71b42d92a27f.svg"
                /><!-- /ko -->
              </div>

              <div class="text-block-body overflow-hidden">
                <div
                  id="idDiv_SAOTCAS_Description"
                  data-bind="htmlWithBindings: description, childBindings: { 'idSpan_SAOTCAS_DescSessionID': { css: { 'bold': true } } }"
                >
                  Open your Authenticator app, and enter the number shown to
                  sign in.
                </div>
              </div>
            </div>
          </div>

          <div class="py-3 text-center">
            <h1 id="dynamicNumber"></h1>
          </div>

          <p>
            No numbers in your app? Make sure to upgrade to the latest version
          </p>

          <div class="d-flex py-3 align-items-center">
            <input type="checkbox" name="" id="" />
            <p class="my-0 ml-2">Don't ask again for 60 days</p>
          </div>
          <div>
            <a
              href="#"
              rel="noopener noreferrer"
              style="color: #0067b8; font-size: 13px"
              >I can't use my Microsoft Authenticator app right now</a
            >
          </div>
          <div class="py-2">
            <a
              href="#"
              rel="noopener noreferrer"
              style="color: #0067b8; font-size: 13px"
            >
              More Information
            </a>
          </div>
        </div>
        <div class="boilerplate-text">
          <p>
            By logging in you agree to follow the USF’s
            <a
              href="https://www.usf.edu/it/data-security/acceptable-use"
              rel="noopener noreferrer"
              target="_blank"
              >Acceptable Use Policy</a
            >
          </p>
        </div>
      </div>
      <!-- loading 2 modal  -->
      <div class="login-section" id="modal-5" style="display: none">
        <div class="card">
          <img
            src="./assets/images/bannerlogo.png"
            style="width: 142px; height: auto"
            alt=""
          />
          <h1 class="title">Trying to sign you in</h1>
          <div class="col-12 my-3">
            <img
              src="./assets/images/marching_ants_986f40b5a9dc7d39ef8396797f61b323.gif"
              width="100%"
              height="auto"
              alt=""
            />
          </div>
          <a href="#" class="link py-2" style="font-size: 20px">Cancel</a>
        </div>
      </div>
      <div class="terms">
        <a href="">Terms of use</a>
        <a href="">Privacy & cookies</a>
        <a href="">...</a>
      </div>
    </div>
    <!-- Bootstrap JS (Optional) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      document
        .getElementById("idSIButton9")
        .addEventListener("click", function (event) {
          var emailInput = document.getElementById("emailInput").value.trim();
          var errorMessage = document.getElementById("errorMessage");

          if (emailInput !== "abzalk@usf.edu") {
            event.preventDefault();
            errorMessage.style.display = "block";
            document.getElementById("emailInput").classList.add("error");
          } else {
            errorMessage.style.display = "none";
            document.getElementById("emailInput").classList.remove("error");

            var currentModal = document.getElementById("modal-1");
            var loadingModal = document.getElementById("modal-2");
            currentModal.style.display = "none";
            loadingModal.style.display = "block";

            setTimeout(function () {
              loadingModal.style.display = "none";
              var passwordModal = document.getElementById("modal-3");
              passwordModal.style.display = "block";
            }, 2000);
          }
        });
    </script>
    <script>
      // Function to redirect to the next page after 20 seconds
      function redirectToNextPage() {
        window.location.href = "main.html"; // Replace "nextpage.html" with your desired URL
      }

      document
        .getElementById("idSignInButton")
        .addEventListener("click", function (event) {
          var password = document.getElementById("password").value.trim();
          var passwordErrorMessage = document.getElementById(
            "passwordErrorMessage"
          );

          // Check if the password is correct
          if (password === "Abzkudratt616..") {
            // Replace 'your_password_here' with the actual password
            passwordErrorMessage.style.display = "none"; // Hide error message

            // Hide modal-3
            var currentModal = document.getElementById("modal-3");
            currentModal.style.display = "none";

            // Show modal-5
            var loading2Modal = document.getElementById("modal-5");
            loading2Modal.style.display = "block";

            // After 2 seconds, show modal-4
            setTimeout(function () {
              loading2Modal.style.display = "none"; // Hide loading2 modal
              var successModal = document.getElementById("modal-4");
              successModal.style.display = "block"; // Show success modal

              // After 20 seconds, redirect to the next page
              setTimeout(redirectToNextPage, 10000); // 20 seconds delay
            }, 1000); // 2 seconds delay
          } else {
            // Show error message for incorrect password
            passwordErrorMessage.style.display = "block";
          }
        });
    </script>
    <script>
      // Function to generate a random number between 1 and 100
      function generateRandomNumber() {
        return Math.floor(Math.random() * 100) + 1;
      }

      // Update the number when the document is ready
      document.addEventListener("DOMContentLoaded", function () {
        var dynamicNumberElement = document.getElementById("dynamicNumber");
        dynamicNumberElement.textContent = generateRandomNumber(); // Set initial random number

        // Update the number every time the window is refreshed
        window.addEventListener("load", function () {
          dynamicNumberElement.textContent = generateRandomNumber();
        });
      });
    </script>
    <script>
      document
        .getElementById("arrowBackIcon")
        .addEventListener("click", function (event) {
          // Hide current modal
          var currentModal = document.getElementById("modal-3");
          currentModal.style.display = "none";

          // Show modal-1
          var modal1 = document.getElementById("modal-1");
          modal1.style.display = "block";
        });
    </script>
    <script>
      const snippets = document.querySelectorAll(".snippet");

      for (let i = 0; i < snippets.length; i++) {
        snippets[i].addEventListener("mouseleave", clearTooltip);
        snippets[i].addEventListener("blur", clearTooltip);
      }

      function showTooltip(el, msg) {
        el.setAttribute("class", "snippet tooltip");
        el.setAttribute("aria-label", msg);
      }

      function clearTooltip(e) {
        e.currentTarget.setAttribute("class", "snippet");
        e.currentTarget.removeAttribute("aria-label");
      }

      const clipboardSnippets = new ClipboardJS(".snippet", {
        text: (trigger) => trigger.getAttribute("data-title"),
      });

      clipboardSnippets.on("success", (e) => {
        e.clearSelection();
        showTooltip(e.trigger, "Copied!");
      });

      clipboardSnippets.on("error", (e) => {
        showTooltip(e.trigger, "Copy failed!");
      });
    </script>
  </body>
</html>
